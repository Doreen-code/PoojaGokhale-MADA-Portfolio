{
  "hash": "de2bcbe8143e0f56466aedc0099d32bb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"cdcdata-exercise\"\nformat: html\neditor: visual\n---\n\n\n\n\nThis is the CDC dataset - Weekly Respiratory Virus Vaccination Data Children and Adults\nThe dataset has 17 variables:\nVaccine type, influenza season, Geographic level, Geographic Name, Demographic level, Demographic Name, Indicator Label, Indicator Category Label, Month and Week, Date of week ending, Weekly weighted estimate, Half-width of 90% CI, Half-width of 95% CI, Number of weighted respondents, and Number of unweighted respondents \nThe dataset collects weekly data regarding respiratory virus vaccination coverage in the non-institutionalized US population.\nThe data can be found at: https://data.cdc.gov/Vaccinations/Weekly-Respiratory-Virus-Vaccination-Data-Children/5c6r-xi2t/about_data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nlibrary(here)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nhere() starts at C:/Pooja/Pooja/Spring 2025/EPID-BIOS-8060E-MADA/PoojaGokhale-MADA-Portfolio\n```\n\n\n:::\n\n```{.r .cell-code}\nimmunization_cdcdata = read_csv(here(\"cdcdata-exercise\", \"Weekly_Respiratory_Virus_Vaccination_Data__Children_6_Months-17_Years_and_Adults_18_Years_and_Older__National_Immunization_Survey_20250203.csv\"), show_col_types = FALSE)\n```\n:::\n\n\n\n\nLook at the data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ purrr     1.0.2\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(immunization_cdcdata)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 505\nColumns: 17\n$ vaccine                  <chr> \"COVID\", \"COVID\", \"COVID\", \"COVID\", \"COVID\", …\n$ influenza_season         <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ geographic_level         <chr> \"National\", \"National\", \"National\", \"National…\n$ geographic_name          <chr> \"National\", \"National\", \"National\", \"National…\n$ demographic_level        <chr> \"Overall\", \"Overall\", \"Overall\", \"Overall\", \"…\n$ demographic_name         <chr> \"18+ years\", \"18+ years\", \"18+ years\", \"18+ y…\n$ indicator_label          <chr> \"4-level vaccination and intent\", \"4-level va…\n$ indicator_category_label <chr> \"Definitely or probably will not get a vaccin…\n$ month_week               <chr> \"December Week 1\", \"December Week 2\", \"Decemb…\n$ week_ending              <dttm> 2024-12-07, 2024-12-14, 2024-12-21, 2024-12-…\n$ nd_weekly_estimate       <dbl> 44.2757, 44.3654, 45.6612, 42.2254, 43.3316, …\n$ ci_half_width_90pct      <dbl> 1.8959, 1.9017, 1.8269, 2.5843, 2.1458, 1.886…\n$ ci_half_width_95pct      <dbl> 2.2590, 2.2659, 2.1768, 3.0791, 2.5567, 2.247…\n$ n_weighted               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ n_unweighted             <dbl> 12045, 12288, 12401, 7625, 8080, 9768, 10569,…\n$ suppression_flag         <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ data_source              <chr> \"NIS-ACM\", \"NIS-ACM\", \"NIS-ACM\", \"NIS-ACM\", \"…\n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(immunization_cdcdata)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   vaccine          influenza_season   geographic_level   geographic_name   \n Length:505         Length:505         Length:505         Length:505        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n demographic_level  demographic_name   indicator_label   \n Length:505         Length:505         Length:505        \n Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character  \n                                                         \n                                                         \n                                                         \n                                                         \n indicator_category_label  month_week         week_ending                    \n Length:505               Length:505         Min.   :2024-08-24 00:00:00.00  \n Class :character         Class :character   1st Qu.:2024-10-12 00:00:00.00  \n Mode  :character         Mode  :character   Median :2024-11-16 00:00:00.00  \n                                             Mean   :2024-11-17 12:35:38.60  \n                                             3rd Qu.:2024-12-21 00:00:00.00  \n                                             Max.   :2025-01-25 00:00:00.00  \n                                                                             \n nd_weekly_estimate ci_half_width_90pct ci_half_width_95pct   n_weighted      \n Min.   : 1.925     Min.   :0.2190      Min.   :0.2610      Min.   :70326614  \n 1st Qu.:13.220     1st Qu.:0.7314      1st Qu.:0.8715      1st Qu.:70475989  \n Median :24.962     Median :1.4835      Median :1.7675      Median :70819197  \n Mean   :25.160     Mean   :1.7595      Mean   :2.0965      Mean   :70727335  \n 3rd Qu.:35.439     3rd Qu.:2.2774      3rd Qu.:2.7135      3rd Qu.:70883572  \n Max.   :54.257     Max.   :7.8075      Max.   :9.3026      Max.   :71005275  \n                                                            NA's   :420       \n  n_unweighted    suppression_flag data_source       \n Min.   :   777   Min.   :0        Length:505        \n 1st Qu.:  2856   1st Qu.:0        Class :character  \n Median : 11937   Median :0        Mode  :character  \n Mean   : 59714   Mean   :0                          \n 3rd Qu.: 92117   3rd Qu.:0                          \n Max.   :251252   Max.   :0                          \n                                                     \n```\n\n\n:::\n:::\n\n\n\n\nWe can see that the variable influenza_season has no information, and all the rows say \"NA\". Thus we can remove this variable.\nSimilarly, we can see that this is national level data, and geographic_name and geographic_level are the same - \"National\".\nAs such, we can remove geographic_name from the dataset.\nThe suppression_flag variable is the same - 0 - for all, and thus does not provide any additional useful information and can thus be removed.\nThe number of weighted individuals have 420 NAs. The dataset has 505 variables, of which a sizable amount are NA. Removing all the NAs would leave us with a very small dataset.\nThe unweighted individuals could be used in the analysis instead, however this may give inaccurate results.\nThe weekly estimate estimate of the weighted proportion giving the response is available and can be used. \nThe CDC website does provide a hard copy of the questionnaire used, however the sampling and weighting methods have not been elaborated on.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nimmunization_cdcdata_filtered = immunization_cdcdata |>\n  select(-c(influenza_season, geographic_name, demographic_level, ci_half_width_90pct, ci_half_width_95pct, n_weighted, suppression_flag))\n```\n:::\n\n\n\n\nLook at the filtered data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(immunization_cdcdata_filtered)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 505\nColumns: 10\n$ vaccine                  <chr> \"COVID\", \"COVID\", \"COVID\", \"COVID\", \"COVID\", …\n$ geographic_level         <chr> \"National\", \"National\", \"National\", \"National…\n$ demographic_name         <chr> \"18+ years\", \"18+ years\", \"18+ years\", \"18+ y…\n$ indicator_label          <chr> \"4-level vaccination and intent\", \"4-level va…\n$ indicator_category_label <chr> \"Definitely or probably will not get a vaccin…\n$ month_week               <chr> \"December Week 1\", \"December Week 2\", \"Decemb…\n$ week_ending              <dttm> 2024-12-07, 2024-12-14, 2024-12-21, 2024-12-…\n$ nd_weekly_estimate       <dbl> 44.2757, 44.3654, 45.6612, 42.2254, 43.3316, …\n$ n_unweighted             <dbl> 12045, 12288, 12401, 7625, 8080, 9768, 10569,…\n$ data_source              <chr> \"NIS-ACM\", \"NIS-ACM\", \"NIS-ACM\", \"NIS-ACM\", \"…\n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(immunization_cdcdata_filtered)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   vaccine          geographic_level   demographic_name   indicator_label   \n Length:505         Length:505         Length:505         Length:505        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n indicator_category_label  month_week         week_ending                    \n Length:505               Length:505         Min.   :2024-08-24 00:00:00.00  \n Class :character         Class :character   1st Qu.:2024-10-12 00:00:00.00  \n Mode  :character         Mode  :character   Median :2024-11-16 00:00:00.00  \n                                             Mean   :2024-11-17 12:35:38.60  \n                                             3rd Qu.:2024-12-21 00:00:00.00  \n                                             Max.   :2025-01-25 00:00:00.00  \n nd_weekly_estimate  n_unweighted    data_source       \n Min.   : 1.925     Min.   :   777   Length:505        \n 1st Qu.:13.220     1st Qu.:  2856   Class :character  \n Median :24.962     Median : 11937   Mode  :character  \n Mean   :25.160     Mean   : 59714                     \n 3rd Qu.:35.439     3rd Qu.: 92117                     \n Max.   :54.257     Max.   :251252                     \n```\n\n\n:::\n\n```{.r .cell-code}\nView(immunization_cdcdata_filtered)\n```\n:::\n\n\n\n\nWe have the following variables:\nvaccine, geographic_level, demographic_name, indicator_label, indicator_category_label, month_week, week_ending, nd_weekly_estimate, n_unweighted, and data_source.\n\nThe nd_weekly_estimate gives a weighted estimate of the proportion of respondents giving a particular response.\n\nThe month_week variable can be recoded as month variable, to get a more big-picture look at the data. We can also remove the 2025 data to focus on 2024 trends.\nAdditionally, focus on indicator_label for those that are not up to date.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nimmunization_cdcdata_final <- immunization_cdcdata_filtered |>\n  mutate(month = str_extract(month_week, \"^[A-Za-z]+\")) |> filter(!str_starts(week_ending, \"2025\")) |>\n  filter(indicator_label == \"4-level vaccination and intent\") |>\n  select(-c(indicator_label, month_week, week_ending))\nView(immunization_cdcdata_final)\n```\n:::\n\n\n\n\nWr can create subsets of this dataset to look at trends.\nLet us create a subset for adults and COVID vaccine. Let us focus on those who are not up to date on the vaccine.\nThis is the final dataset we focus on.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nadultcovid_cdcdata = immunization_cdcdata_final |>\n  filter(vaccine==\"COVID\", demographic_name==\"18+ years\")\nView(adultcovid_cdcdata)\n```\n:::\n\n\n\n\nLet us look at the data summary\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(adultcovid_cdcdata)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   vaccine          geographic_level   demographic_name  \n Length:68          Length:68          Length:68         \n Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character  \n                                                         \n                                                         \n                                                         \n indicator_category_label nd_weekly_estimate  n_unweighted   \n Length:68                Min.   : 1.925     Min.   :  7625  \n Class :character         1st Qu.:14.382     1st Qu.: 10765  \n Mode  :character         Median :23.981     Median : 12055  \n                          Mean   :25.000     Mean   : 65120  \n                          3rd Qu.:33.608     3rd Qu.: 66428  \n                          Max.   :46.891     Max.   :227004  \n data_source           month          \n Length:68          Length:68         \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n                                      \n                                      \n                                      \n```\n\n\n:::\n\n```{.r .cell-code}\n#Look at month distribution\ntable(adultcovid_cdcdata$month)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n December  November   October September \n       16        20        16        16 \n```\n\n\n:::\n\n```{.r .cell-code}\n#Summary by month\n#September\nlibrary(dplyr)\n\n# Filter data for September and then summarize by indicator_category_label\nseptember_summary <- adultcovid_cdcdata |>\n  filter(month == \"September\") |>\n  group_by(indicator_category_label) |>\n  summarise(\n       mean_value = mean(nd_weekly_estimate, na.rm = TRUE),\n    sd_value = sd(nd_weekly_estimate, na.rm = TRUE),\n    .groups = 'drop'  # Removes the grouping structure after summarization\n  )\n\n# View the summary for September\nseptember_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  indicator_category_label                      mean_value sd_value\n  <chr>                                              <dbl>    <dbl>\n1 Definitely or probably will not get a vaccine      42.9      1.15\n2 Definitely will get a vaccine                      22.8      1.32\n3 Probably will get a vaccine/unsure                 30.2      1.12\n4 Received a vaccination                              4.17     1.95\n```\n\n\n:::\n:::\n\n\n\nThis gives us the percentage of individuals reporting the status for September.\nWe do the same for October, November, and December.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Filter data for October and then summarize by indicator_category_label\noctober_summary <- adultcovid_cdcdata |>\n  filter(month == \"October\") |>\n  group_by(indicator_category_label) |>\n  summarise(\n       mean_value = mean(nd_weekly_estimate, na.rm = TRUE),\n    sd_value = sd(nd_weekly_estimate, na.rm = TRUE),\n    .groups = 'drop'  # Removes the grouping structure after summarization\n  )\n\n# View the summary for October\noctober_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  indicator_category_label                      mean_value sd_value\n  <chr>                                              <dbl>    <dbl>\n1 Definitely or probably will not get a vaccine       42.1     2.66\n2 Definitely will get a vaccine                       17.7     3.31\n3 Probably will get a vaccine/unsure                  29.1     1.63\n4 Received a vaccination                              11.0     2.08\n```\n\n\n:::\n\n```{.r .cell-code}\n# Filter data for November and then summarize by indicator_category_label\nnovember_summary <- adultcovid_cdcdata |>\n  filter(month == \"November\") |>\n  group_by(indicator_category_label) |>\n  summarise(\n       mean_value = mean(nd_weekly_estimate, na.rm = TRUE),\n    sd_value = sd(nd_weekly_estimate, na.rm = TRUE),\n    .groups = 'drop'  # Removes the grouping structure after summarization\n  )\n\n# View the summary for September\nnovember_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  indicator_category_label                      mean_value sd_value\n  <chr>                                              <dbl>    <dbl>\n1 Definitely or probably will not get a vaccine       44.1     2.04\n2 Definitely will get a vaccine                       12.2     1.92\n3 Probably will get a vaccine/unsure                  25.8     1.37\n4 Received a vaccination                              17.9     1.31\n```\n\n\n:::\n\n```{.r .cell-code}\n# Filter data for December and then summarize by indicator_category_label\ndecember_summary <- adultcovid_cdcdata |>\n  filter(month == \"December\") |>\n  group_by(indicator_category_label) |>\n  summarise(\n       mean_value = mean(nd_weekly_estimate, na.rm = TRUE),\n    sd_value = sd(nd_weekly_estimate, na.rm = TRUE),\n    .groups = 'drop'  # Removes the grouping structure after summarization\n  )\n\n# View the summary for September\ndecember_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  indicator_category_label                      mean_value sd_value\n  <chr>                                              <dbl>    <dbl>\n1 Definitely or probably will not get a vaccine      44.1     1.42 \n2 Definitely will get a vaccine                       9.32    0.406\n3 Probably will get a vaccine/unsure                 25.5     1.27 \n4 Received a vaccination                             21.1     0.494\n```\n\n\n:::\n:::\n\n\n\nWe can also do the same to see the unweighted number.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Filter data for September and then summarize by indicator_category_label\nseptember_summary <- adultcovid_cdcdata |>\n  filter(month == \"September\") |>\n  group_by(indicator_category_label) |>\n  summarise(\n       mean_value = mean(n_unweighted, na.rm = TRUE),\n    sd_value = sd(nd_weekly_estimate, na.rm = TRUE),\n    .groups = 'drop'  # Removes the grouping structure after summarization\n  )\n\n# View the summary for September\nseptember_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  indicator_category_label                      mean_value sd_value\n  <chr>                                              <dbl>    <dbl>\n1 Definitely or probably will not get a vaccine     12162.     1.15\n2 Definitely will get a vaccine                     12162.     1.32\n3 Probably will get a vaccine/unsure                12162.     1.12\n4 Received a vaccination                           227004      1.95\n```\n\n\n:::\n\n```{.r .cell-code}\n# Filter data for October and then summarize by indicator_category_label\noctober_summary <- adultcovid_cdcdata |>\n  filter(month == \"October\") |>\n  group_by(indicator_category_label) |>\n  summarise(\n       mean_value = mean(n_unweighted, na.rm = TRUE),\n    sd_value = sd(nd_weekly_estimate, na.rm = TRUE),\n    .groups = 'drop'  # Removes the grouping structure after summarization\n  )\n\n# View the summary for October\noctober_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  indicator_category_label                      mean_value sd_value\n  <chr>                                              <dbl>    <dbl>\n1 Definitely or probably will not get a vaccine     11198.     2.66\n2 Definitely will get a vaccine                     11198.     3.31\n3 Probably will get a vaccine/unsure                11198.     1.63\n4 Received a vaccination                           227004      2.08\n```\n\n\n:::\n\n```{.r .cell-code}\n# Filter data for November and then summarize by indicator_category_label\nnovember_summary <- adultcovid_cdcdata |>\n  filter(month == \"November\") |>\n  group_by(indicator_category_label) |>\n  summarise(\n       mean_value = mean(n_unweighted, na.rm = TRUE),\n    sd_value = sd(nd_weekly_estimate, na.rm = TRUE),\n    .groups = 'drop'  # Removes the grouping structure after summarization\n  )\n\n# View the summary for November\nnovember_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  indicator_category_label                      mean_value sd_value\n  <chr>                                              <dbl>    <dbl>\n1 Definitely or probably will not get a vaccine     10378.     2.04\n2 Definitely will get a vaccine                     10378.     1.92\n3 Probably will get a vaccine/unsure                10378.     1.37\n4 Received a vaccination                           227004      1.31\n```\n\n\n:::\n\n```{.r .cell-code}\n# Filter data for December and then summarize by indicator_category_label\ndecember_summary <- adultcovid_cdcdata |>\n  filter(month == \"December\") |>\n  group_by(indicator_category_label) |>\n  summarise(\n       mean_value = mean(n_unweighted, na.rm = TRUE),\n    sd_value = sd(nd_weekly_estimate, na.rm = TRUE),\n    .groups = 'drop'  # Removes the grouping structure after summarization\n  )\n\n# View the summary for December\ndecember_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  indicator_category_label                      mean_value sd_value\n  <chr>                                              <dbl>    <dbl>\n1 Definitely or probably will not get a vaccine     11090.    1.42 \n2 Definitely will get a vaccine                     11090.    0.406\n3 Probably will get a vaccine/unsure                11090.    1.27 \n4 Received a vaccination                           227004     0.494\n```\n\n\n:::\n:::\n\n\n\n\n\nLet us look at the adult vaccination trends by month.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(adultcovid_cdcdata, mapping=aes(x=month, y=nd_weekly_estimate, color=indicator_category_label)) + geom_point()\n```\n\n::: {.cell-output-display}\n![](cdcdata-exercise_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\nWe can see that approximately 40% and above individuals report that they will definitely not get a vaccine.\nThose that report that they will definitely get the COVID vaccine decreases from around 20% in September to around 10% in December.\nThose that received a vaccination increased from less than 10% in September to over 20% in December.\n",
    "supporting": [
      "cdcdata-exercise_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}